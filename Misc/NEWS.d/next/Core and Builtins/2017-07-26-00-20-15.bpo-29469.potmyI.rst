Move constant folding from bytecode layer to AST layer.
Original patch by Eugene Toder.
